{"remainingRequest":"E:\\workspace\\code\\test\\my_project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\workspace\\code\\test\\my_project\\src\\views\\common\\login.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"E:\\workspace\\code\\test\\my_project\\src\\views\\common\\login.vue","mtime":1562844576819},{"path":"E:\\workspace\\code\\test\\my_project\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"E:\\workspace\\code\\test\\my_project\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\workspace\\code\\test\\my_project\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\workspace\\code\\test\\my_project\\node_modules\\sass-loader\\lib\\loader.js","mtime":1533139052000},{"path":"E:\\workspace\\code\\test\\my_project\\node_modules\\sass-loader\\lib\\loader.js","mtime":1533139052000},{"path":"E:\\workspace\\code\\test\\my_project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\workspace\\code\\test\\my_project\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.site-wrapper.site-page--login {\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  background-color: rgba(38, 50, 56, 0.6);\r\n  overflow: hidden;\r\n  &:before {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: -1;\r\n    width: 100%;\r\n    height: 100%;\r\n    content: \"\";\r\n    background-image: url(~@/assets/img/login_bg.jpg);\r\n    background-size: cover;\r\n  }\r\n  .site-content__wrapper {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    padding: 0;\r\n    margin: 0;\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n    background-color: transparent;\r\n  }\r\n  .site-content {\r\n    min-height: 100%;\r\n    padding: 30px 500px 30px 30px;\r\n  }\r\n  .brand-info {\r\n    margin: 220px 100px 0 90px;\r\n    color: #fff;\r\n  }\r\n  .brand-info__text {\r\n    margin: 0 0 22px 0;\r\n    font-size: 48px;\r\n    font-weight: 400;\r\n    text-transform: uppercase;\r\n  }\r\n  .brand-info__intro {\r\n    margin: 10px 0;\r\n    font-size: 16px;\r\n    line-height: 1.58;\r\n    opacity: 0.6;\r\n  }\r\n  .login-main {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    padding: 150px 60px 180px;\r\n    width: 470px;\r\n    min-height: 100%;\r\n    background-color: #fff;\r\n  }\r\n  .login-title {\r\n    font-size: 16px;\r\n  }\r\n  .login-captcha {\r\n    overflow: hidden;\r\n    > img {\r\n      width: 100%;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n  .login-btn-submit {\r\n    width: 100%;\r\n    margin-top: 38px;\r\n  }\r\n}\r\n",{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/views/common","sourcesContent":["<template>\r\n  <div class=\"site-wrapper site-page--login\">\r\n    <div class=\"site-content__wrapper\">\r\n      <div class=\"site-content\">\r\n        <div class=\"brand-info\">\r\n          <h2 class=\"brand-info__text\">exchange_code</h2>\r\n          <p class=\"brand-info__intro\">兑换码管理系统基于vue、element-ui构建开发，实现后台管理前端功能。</p>\r\n        </div>\r\n        <div class=\"login-main\">\r\n          <h3 class=\"login-title\">管理员登录</h3>\r\n          <el-form :model=\"dataForm\" :rules=\"dataRule\" ref=\"dataForm\" @keyup.enter.native=\"dataFormSubmit()\" status-icon>\r\n            <el-form-item prop=\"userName\">\r\n              <el-input v-model=\"dataForm.userName\" placeholder=\"帐号\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item prop=\"password\">\r\n              <el-input v-model=\"dataForm.password\" type=\"password\" placeholder=\"密码\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item prop=\"captcha\">\r\n              <el-row :gutter=\"20\">\r\n                <el-col :span=\"14\">\r\n                  <el-input v-model=\"dataForm.captcha\" placeholder=\"验证码\">\r\n                  </el-input>\r\n                </el-col>\r\n                <el-col :span=\"10\" class=\"login-captcha\">\r\n                  <!-- <img :src=\"captchaPath\" @click=\"getCaptcha()\" alt=\"\"> -->\r\n                  <div style=\"position: absolute;width: 100%;height: 100%;\"  @click=\"getCaptcha()\"></div>\r\n                  <div style=\"background: #999;\">\r\n                      <span style=\"letter-spacing: 6px;color: #fff;line-height: 34px;font-size: 20px;text-align: center;display:block\">{{captchaPath}}</span>\r\n                  </div>\r\n                </el-col>\r\n              </el-row>\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <el-button class=\"login-btn-submit\" type=\"primary\" @click=\"dataFormSubmit()\">登录</el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getUUID } from \"@/utils\";\r\nimport { loginByUsername,getCaptcha } from \"@/api/login\";\r\n// import store from '@/store/store'\r\nexport default {\r\n  data() {\r\n    return {\r\n      dataForm: {\r\n        userName: \"admin\",\r\n        password: \"admin\",\r\n        uuid: \"\",\r\n        captcha: \"\"\r\n      },\r\n      dataRule: {\r\n        userName: [\r\n          { required: true, message: \"帐号不能为空\", trigger: \"blur\" }\r\n        ],\r\n        password: [\r\n          { required: true, message: \"密码不能为空\", trigger: \"blur\" }\r\n        ],\r\n        captcha: [\r\n          { required: true, message: \"验证码不能为空\", trigger: \"blur\" }\r\n        ]\r\n      },\r\n      captchaPath: \"\"\r\n    };\r\n  },\r\n  created() {\r\n    this.getCaptcha()\r\n  },\r\n  methods: {\r\n    // 提交表单\r\n    dataFormSubmit() {\r\n      this.$refs[\"dataForm\"].validate(valid => {\r\n        if (valid) {\r\n          let data = {};\r\n          data.username = this.dataForm.userName;\r\n          data.password = this.dataForm.password;\r\n          data.uuid = this.dataForm.uuid;\r\n          data.captcha = this.dataForm.captcha;\r\n          loginByUsername(data).then(response => {\r\n            let data = response.data;\r\n            if (data && data.code === '200') {\r\n              this.$store.commit('set_token', data.data.token);\r\n              this.$store.commit('set_user', data.data);\r\n              this.$router.replace({ name: \"home\" });\r\n            } else {\r\n              this.getCaptcha();\r\n              this.$message.error(data.msg);\r\n              this.dataForm.captcha = '';\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    // 获取验证码\r\n    getCaptcha() {\r\n      this.dataForm.uuid = getUUID();\r\n      getCaptcha(this.dataForm.uuid).then(response =>{\r\n        if(response && response.data.code == 200){\r\n          this.captchaPath = response.data.data;\r\n        }\r\n      })\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.site-wrapper.site-page--login {\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  background-color: rgba(38, 50, 56, 0.6);\r\n  overflow: hidden;\r\n  &:before {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: -1;\r\n    width: 100%;\r\n    height: 100%;\r\n    content: \"\";\r\n    background-image: url(~@/assets/img/login_bg.jpg);\r\n    background-size: cover;\r\n  }\r\n  .site-content__wrapper {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    padding: 0;\r\n    margin: 0;\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n    background-color: transparent;\r\n  }\r\n  .site-content {\r\n    min-height: 100%;\r\n    padding: 30px 500px 30px 30px;\r\n  }\r\n  .brand-info {\r\n    margin: 220px 100px 0 90px;\r\n    color: #fff;\r\n  }\r\n  .brand-info__text {\r\n    margin: 0 0 22px 0;\r\n    font-size: 48px;\r\n    font-weight: 400;\r\n    text-transform: uppercase;\r\n  }\r\n  .brand-info__intro {\r\n    margin: 10px 0;\r\n    font-size: 16px;\r\n    line-height: 1.58;\r\n    opacity: 0.6;\r\n  }\r\n  .login-main {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    padding: 150px 60px 180px;\r\n    width: 470px;\r\n    min-height: 100%;\r\n    background-color: #fff;\r\n  }\r\n  .login-title {\r\n    font-size: 16px;\r\n  }\r\n  .login-captcha {\r\n    overflow: hidden;\r\n    > img {\r\n      width: 100%;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n  .login-btn-submit {\r\n    width: 100%;\r\n    margin-top: 38px;\r\n  }\r\n}\r\n</style>\r\n"]}]}