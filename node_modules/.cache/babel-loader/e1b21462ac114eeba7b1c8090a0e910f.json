{"remainingRequest":"E:\\workspace\\code\\test\\my_project\\node_modules\\babel-loader\\lib\\index.js!E:\\workspace\\code\\test\\my_project\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\workspace\\code\\test\\my_project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\workspace\\code\\test\\my_project\\src\\views\\layout\\main-content.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\workspace\\code\\test\\my_project\\src\\views\\layout\\main-content.vue","mtime":1562316221270},{"path":"E:\\workspace\\code\\test\\my_project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\workspace\\code\\test\\my_project\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\workspace\\code\\test\\my_project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\workspace\\code\\test\\my_project\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.filter\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { isURL } from '@/utils/validate';\nexport default {\n  inject: ['refresh'],\n  data: function data() {\n    return {};\n  },\n  computed: {\n    documentClientHeight: {\n      get: function get() {\n        return this.$store.state.common.documentClientHeight;\n      }\n    },\n    menuActiveName: {\n      get: function get() {\n        return this.$store.state.common.menuActiveName;\n      },\n      set: function set(val) {\n        this.$store.commit('common/updateMenuActiveName', val);\n      }\n    },\n    mainTabs: {\n      get: function get() {\n        return this.$store.state.common.mainTabs;\n      },\n      set: function set(val) {\n        this.$store.commit('common/updateMainTabs', val);\n      }\n    },\n    mainTabsActiveName: {\n      get: function get() {\n        return this.$store.state.common.mainTabsActiveName;\n      },\n      set: function set(val) {\n        this.$store.commit('common/updateMainTabsActiveName', val);\n      }\n    },\n    siteContentViewHeight: function siteContentViewHeight() {\n      var height = this.documentClientHeight - 50 - 30 - 2;\n\n      if (this.$route.meta.isTab) {\n        height -= 40;\n        return isURL(this.$route.meta.iframeUrl) ? {\n          height: height + 'px'\n        } : {\n          minHeight: height + 'px'\n        };\n      }\n\n      return {\n        minHeight: height + 'px'\n      };\n    }\n  },\n  methods: {\n    // tabs, 选中tab\n    selectedTabHandle: function selectedTabHandle(tab) {\n      tab = this.mainTabs.filter(function (item) {\n        return item.name === tab.name;\n      });\n\n      if (tab.length >= 1) {\n        this.$router.push({\n          name: tab[0].name,\n          query: tab[0].query,\n          params: tab[0].params\n        });\n      }\n    },\n    // tabs, 删除tab\n    removeTabHandle: function removeTabHandle(tabName) {\n      var _this = this;\n\n      this.mainTabs = this.mainTabs.filter(function (item) {\n        return item.name !== tabName;\n      });\n\n      if (this.mainTabs.length >= 1) {\n        // 当前选中tab被删除\n        if (tabName === this.mainTabsActiveName) {\n          var tab = this.mainTabs[this.mainTabs.length - 1];\n          this.$router.push({\n            name: tab.name,\n            query: tab.query,\n            params: tab.params\n          }, function () {\n            _this.mainTabsActiveName = _this.$route.name;\n          });\n        }\n      } else {\n        this.menuActiveName = '';\n        this.$router.push({\n          name: 'home'\n        });\n      }\n    },\n    // tabs, 关闭当前\n    tabsCloseCurrentHandle: function tabsCloseCurrentHandle() {\n      this.removeTabHandle(this.mainTabsActiveName);\n    },\n    // tabs, 关闭其它\n    tabsCloseOtherHandle: function tabsCloseOtherHandle() {\n      var _this2 = this;\n\n      this.mainTabs = this.mainTabs.filter(function (item) {\n        return item.name === _this2.mainTabsActiveName;\n      });\n    },\n    // tabs, 关闭全部\n    tabsCloseAllHandle: function tabsCloseAllHandle() {\n      this.mainTabs = [];\n      this.menuActiveName = '';\n      this.$router.push({\n        name: 'home'\n      });\n    },\n    // tabs, 刷新当前\n    tabsRefreshCurrentHandle: function tabsRefreshCurrentHandle() {\n      var _this3 = this;\n\n      var tab = this.$route;\n      this.removeTabHandle(tab.name);\n      this.$nextTick(function () {\n        _this3.$router.push({\n          name: tab.name,\n          query: tab.query,\n          params: tab.params\n        });\n      });\n    }\n  }\n};",{"version":3,"sources":["main-content.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <main class=\"site-content\" :class=\"{ 'site-content--tabs': $route.meta.isTab }\">\r\n    <!-- 主入口标签页 s -->\r\n    <el-tabs\r\n      v-if=\"$route.meta.isTab\"\r\n      v-model=\"mainTabsActiveName\"\r\n      :closable=\"true\"\r\n      @tab-click=\"selectedTabHandle\"\r\n      @tab-remove=\"removeTabHandle\">\r\n      <el-dropdown class=\"site-tabs__tools\" :show-timeout=\"0\">\r\n        <i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n        <el-dropdown-menu slot=\"dropdown\">\r\n          <el-dropdown-item @click.native=\"tabsCloseCurrentHandle\">关闭当前标签页</el-dropdown-item>\r\n          <el-dropdown-item @click.native=\"tabsCloseOtherHandle\">关闭其它标签页</el-dropdown-item>\r\n          <el-dropdown-item @click.native=\"tabsCloseAllHandle\">关闭全部标签页</el-dropdown-item>\r\n          <el-dropdown-item @click.native=\"refresh()\">刷新当前标签页</el-dropdown-item>\r\n        </el-dropdown-menu>\r\n      </el-dropdown>\r\n      <el-tab-pane\r\n        v-for=\"item in mainTabs\"\r\n        :key=\"item.name\"\r\n        :label=\"item.title\"\r\n        :name=\"item.name\">\r\n        <el-card :body-style=\"siteContentViewHeight\">\r\n          <iframe\r\n            v-if=\"item.type === 'iframe'\"\r\n            :src=\"item.iframeUrl\"\r\n            width=\"100%\" height=\"100%\" frameborder=\"0\" scrolling=\"yes\">\r\n          </iframe>\r\n          <keep-alive v-else>\r\n            <router-view v-if=\"item.name === mainTabsActiveName\" />\r\n          </keep-alive>\r\n        </el-card>\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n    <!-- 主入口标签页 e -->\r\n    <el-card v-else :body-style=\"siteContentViewHeight\">\r\n      <keep-alive>\r\n        <router-view />\r\n      </keep-alive>\r\n    </el-card>\r\n  </main>\r\n</template>\r\n\r\n<script>\r\n  import { isURL } from '@/utils/validate'\r\n  export default {\r\n    inject: ['refresh'],\r\n    data () {\r\n      return {\r\n      }\r\n    },\r\n    computed: {\r\n      documentClientHeight: {\r\n        get () { return this.$store.state.common.documentClientHeight }\r\n      },\r\n      menuActiveName: {\r\n        get () { return this.$store.state.common.menuActiveName },\r\n        set (val) { this.$store.commit('common/updateMenuActiveName', val) }\r\n      },\r\n      mainTabs: {\r\n        get () { return this.$store.state.common.mainTabs },\r\n        set (val) { this.$store.commit('common/updateMainTabs', val) }\r\n      },\r\n      mainTabsActiveName: {\r\n        get () { return this.$store.state.common.mainTabsActiveName },\r\n        set (val) { this.$store.commit('common/updateMainTabsActiveName', val) }\r\n      },\r\n      siteContentViewHeight () {\r\n        var height = this.documentClientHeight - 50 - 30 - 2\r\n        if (this.$route.meta.isTab) {\r\n          height -= 40\r\n          return isURL(this.$route.meta.iframeUrl) ? { height: height + 'px' } : { minHeight: height + 'px' }\r\n        }\r\n        return { minHeight: height + 'px' }\r\n      }\r\n    },\r\n    methods: {\r\n      // tabs, 选中tab\r\n      selectedTabHandle (tab) {\r\n        tab = this.mainTabs.filter(item => item.name === tab.name)\r\n        if (tab.length >= 1) {\r\n          this.$router.push({ name: tab[0].name, query: tab[0].query, params: tab[0].params })\r\n        }\r\n      },\r\n      // tabs, 删除tab\r\n      removeTabHandle (tabName) {\r\n        this.mainTabs = this.mainTabs.filter(item => item.name !== tabName)\r\n        if (this.mainTabs.length >= 1) {\r\n          // 当前选中tab被删除\r\n          if (tabName === this.mainTabsActiveName) {\r\n            var tab = this.mainTabs[this.mainTabs.length - 1]\r\n            this.$router.push({ name: tab.name, query: tab.query, params: tab.params }, () => {\r\n              this.mainTabsActiveName = this.$route.name\r\n            })\r\n          }\r\n        } else {\r\n          this.menuActiveName = ''\r\n          this.$router.push({ name: 'home' })\r\n        }\r\n      },\r\n      // tabs, 关闭当前\r\n      tabsCloseCurrentHandle () {\r\n        this.removeTabHandle(this.mainTabsActiveName)\r\n      },\r\n      // tabs, 关闭其它\r\n      tabsCloseOtherHandle () {\r\n        this.mainTabs = this.mainTabs.filter(item => item.name === this.mainTabsActiveName)\r\n      },\r\n      // tabs, 关闭全部\r\n      tabsCloseAllHandle () {\r\n        this.mainTabs = []\r\n        this.menuActiveName = ''\r\n        this.$router.push({ name: 'home' })\r\n      },\r\n      // tabs, 刷新当前\r\n      tabsRefreshCurrentHandle () {\r\n        var tab = this.$route\r\n        this.removeTabHandle(tab.name)\r\n        this.$nextTick(() => {\r\n          this.$router.push({ name: tab.name, query: tab.query, params: tab.params })\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n"],"sourceRoot":"src/views/layout"}]}