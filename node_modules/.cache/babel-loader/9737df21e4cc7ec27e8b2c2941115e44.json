{"remainingRequest":"E:\\workspace\\code\\test\\my_project\\node_modules\\babel-loader\\lib\\index.js!E:\\workspace\\code\\test\\my_project\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\workspace\\code\\test\\my_project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\workspace\\code\\test\\my_project\\src\\views\\auth\\role\\role.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\workspace\\code\\test\\my_project\\src\\views\\auth\\role\\role.vue","mtime":1562918495604},{"path":"E:\\workspace\\code\\test\\my_project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\workspace\\code\\test\\my_project\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\workspace\\code\\test\\my_project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\workspace\\code\\test\\my_project\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport roleAddAndUpdate from \"./edit_role\";\nimport { fetchPage, deleteRole } from \"@/api/auth/role\";\nimport { debuglog } from 'util';\nexport default {\n  data: function data() {\n    return {\n      tableKey: 0,\n      list: null,\n      total: 0,\n      row: \"\",\n      reList: [],\n      listLoading: true,\n      roleId: \"\",\n      addOrUpdateVisible: false,\n      listQuery: {\n        currentPage: 1,\n        pageSize: 10,\n        name: undefined,\n        sort: \"\"\n      },\n      props: {\n        id: \"id\",\n        label: \"name\",\n        children: \"children\"\n      },\n      dialog: {\n        status: \"\",\n        visible: false\n      }\n    };\n  },\n  components: {\n    \"edit-role\": roleAddAndUpdate\n  },\n  filters: {},\n  created: function created() {\n    this.getList();\n  },\n  methods: {\n    getList: function getList() {\n      var _this = this;\n\n      this.listLoading = true;\n      this.$loading.open();\n      fetchPage(this.listQuery).then(function (response) {\n        _this.list = response.data.data.list;\n        _this.total = response.data.data.total;\n        _this.listLoading = false;\n\n        _this.$loading.close();\n      });\n    },\n    handleFilter: function handleFilter() {\n      this.listQuery.currentPage = 1;\n      this.getList();\n    },\n    handleSizeChange: function handleSizeChange(val) {\n      this.listQuery.pageSize = val;\n      this.getList();\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.listQuery.currentPage = val;\n      this.getList();\n    },\n    handleCreate: function handleCreate(id) {\n      var _this2 = this;\n\n      this.addOrUpdateVisible = true;\n      this.$nextTick(function () {\n        _this2.$refs.addandupdrole.getResourceTreeList(id);\n      });\n    },\n    handleDelete: function handleDelete(row) {\n      var _this3 = this;\n\n      this.$confirm(\"确认删除该记录吗?\", \"提示\", {\n        type: \"warning\"\n      }).then(function () {\n        _this3.$loading.open();\n\n        deleteRole([row.roleId]).then(function (res) {\n          _this3.$loading.close();\n\n          _this3.$msg.showSuccess(\"删除成功\");\n\n          _this3.getList();\n        });\n      });\n    },\n    closeDialog: function closeDialog() {}\n  }\n};",{"version":3,"sources":["role.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"mod-user\">\r\n    <el-form :inline=\"true\" class=\"demo-form-inline\">\r\n        <el-form-item label=\"\">\r\n         <el-input @keyup.enter.native=\"handleFilter\" style=\"width:300px;\" class=\"filter-item\" placeholder=\"请输入角色名称\" v-model=\"listQuery.name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"\">\r\n          <el-button class=\"filter-item\" type=\"primary\" @click=\"handleFilter\"  icon=\"el-icon-search\">搜索</el-button>\r\n        </el-form-item>\r\n        <el-form-item label=\"\">\r\n          <el-button class=\"filter-item\" type=\"primary\" @click=\"handleCreate()\"  icon=\"el-icon-plus\">新增</el-button>\r\n        </el-form-item>\r\n     </el-form>\r\n    <el-table :key='tableKey' :data=\"list\" v-loading=\"listLoading\" element-loading-text=\"数据正在加载\" border fit highlight-current-row style=\"width: 100%\">\r\n      <el-table-column align=\"center\" label=\"角色编号\" prop=\"code\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{scope.row.roleId}}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" label=\"角色名称\" prop=\"name\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{scope.row.roleName}}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" label=\"操作\" class-name=\"small-padding fixed-width\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" size=\"mini\" @click=\"handleCreate(scope.row.roleId)\">编辑</el-button>\r\n          <el-button  size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.row)\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <div class=\"pagination-container\">\r\n      <el-pagination background @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"listQuery.currentPage\" :page-sizes=\"[10,20,30, 50]\" :page-size=\"listQuery.pageSize\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"this.total\">\r\n      </el-pagination>\r\n    </div>\r\n\r\n    <!-- 新增/编辑 对话框 -->\r\n    <edit-role v-if=\"addOrUpdateVisible\"  :dialogStatus=\"dialog.status\" ref=\"addandupdrole\"  @refreshDataList=\"getList\"></edit-role>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport roleAddAndUpdate from \"./edit_role\";\r\nimport { fetchPage,deleteRole } from \"@/api/auth/role\";\r\nimport { debuglog } from 'util';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      tableKey: 0,\r\n      list: null,\r\n      total: 0,\r\n      row: \"\",\r\n      reList: [],\r\n      listLoading: true,\r\n      roleId: \"\",\r\n      addOrUpdateVisible: false,\r\n      listQuery: {\r\n        currentPage: 1,\r\n        pageSize: 10,\r\n        name: undefined,\r\n        sort: \"\"\r\n      },\r\n      props: {\r\n        id: \"id\",\r\n        label: \"name\",\r\n        children: \"children\"\r\n      },\r\n      dialog: {\r\n        status: \"\",\r\n        visible: false\r\n      }\r\n    };\r\n  },\r\n  components: {\r\n    \"edit-role\": roleAddAndUpdate\r\n  },\r\n  filters: {},\r\n  created() {\r\n    this.getList();\r\n  },\r\n  methods: {\r\n    getList() {\r\n      this.listLoading = true;\r\n      this.$loading.open();\r\n      fetchPage(this.listQuery).then(response => {\r\n        this.list = response.data.data.list;\r\n        this.total = response.data.data.total;\r\n        this.listLoading = false;\r\n        this.$loading.close();\r\n      });\r\n    },\r\n    handleFilter() {\r\n      this.listQuery.currentPage = 1;\r\n      this.getList();\r\n    },\r\n    handleSizeChange(val) {\r\n      this.listQuery.pageSize = val;\r\n      this.getList();\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.listQuery.currentPage = val;\r\n      this.getList();\r\n    },\r\n    handleCreate(id) {\r\n      this.addOrUpdateVisible = true;\r\n      this.$nextTick(() => {\r\n        this.$refs.addandupdrole.getResourceTreeList(id);\r\n      });\r\n    },\r\n    handleDelete(row) {\r\n      this.$confirm(\"确认删除该记录吗?\", \"提示\", {\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          this.$loading.open();\r\n          deleteRole([row.roleId]).then(res => {\r\n            this.$loading.close();\r\n            this.$msg.showSuccess(\"删除成功\");\r\n            this.getList();\r\n          });\r\n        })\r\n    },\r\n    closeDialog() {}\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.btn-container {\r\n  margin-bottom: 10px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/auth/role"}]}