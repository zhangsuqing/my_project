{"remainingRequest":"E:\\workspace\\code\\test\\my_project\\node_modules\\babel-loader\\lib\\index.js!E:\\workspace\\code\\test\\my_project\\src\\utils\\index.js","dependencies":[{"path":"E:\\workspace\\code\\test\\my_project\\src\\utils\\index.js","mtime":1562909559004},{"path":"E:\\workspace\\code\\test\\my_project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\workspace\\code\\test\\my_project\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.constructor\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport Vue from 'vue';\nimport router from '@/router';\nimport store from '@/store';\n/**\r\n * 获取uuid\r\n */\n\nexport function getUUID() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    return (c === 'x' ? Math.random() * 16 | 0 : 'r&0x3' | '0x8').toString(16);\n  });\n}\n/**\r\n * 是否有权限\r\n * @param {*} key\r\n */\n\nexport function isAuth(key) {\n  return JSON.parse(sessionStorage.getItem('permissions') || '[]').indexOf(key) !== -1 || false;\n}\nexport function formatDate(date, fmt) {\n  if (/(y+)/.test(fmt)) {\n    fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\n  }\n\n  var o = {\n    'M+': date.getMonth() + 1,\n    'd+': date.getDate(),\n    'h+': date.getHours(),\n    'm+': date.getMinutes(),\n    's+': date.getSeconds()\n  };\n\n  for (var k in o) {\n    if (new RegExp(\"(\".concat(k, \")\")).test(fmt)) {\n      var str = o[k] + '';\n      fmt = fmt.replace(RegExp.$1, RegExp.$1.length === 1 ? str : padLeftZero(str));\n    }\n  }\n\n  return fmt;\n}\n\nfunction padLeftZero(str) {\n  return ('00' + str).substr(str.length);\n}\n/**\r\n * 树形数据转换\r\n * @param {*} data\r\n * @param {*} id\r\n * @param {*} pid\r\n */\n\n\nexport function treeDataTranslate(data) {\n  var id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'id';\n  var pid = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'parentId';\n  var res = [];\n  var temp = {};\n\n  for (var i = 0; i < data.length; i++) {\n    temp[data[i][id]] = data[i];\n  }\n\n  for (var k = 0; k < data.length; k++) {\n    if (temp[data[k][pid]] && data[k][id] !== data[k][pid]) {\n      if (!temp[data[k][pid]]['children']) {\n        temp[data[k][pid]]['children'] = [];\n      }\n\n      if (!temp[data[k][pid]]['_level']) {\n        if (temp[data[k][pid]] && temp[data[k][pid]].parentId == '-1') {\n          temp[data[k][pid]]['_level'] = 1;\n        } else {\n          if (temp[temp[data[k][pid]].parentId] && temp[temp[data[k][pid]].parentId].parentId == '-1') {\n            temp[data[k][pid]]['_level'] = 2;\n          } else {\n            temp[data[k][pid]]['_level'] = 3;\n          }\n        }\n      }\n\n      data[k]['_level'] = temp[data[k][pid]]._level + 1;\n      temp[data[k][pid]]['children'].push(data[k]);\n    } else {\n      res.push(data[k]);\n    }\n  }\n\n  return res;\n}\n/**\r\n * 清除登录信息\r\n */\n\nexport function clearLoginInfo() {\n  Vue.cookie.delete('token');\n  store.commit('resetStore');\n  router.options.isAddDynamicMenuRoutes = false;\n}",{"version":3,"sources":["E:\\workspace\\code\\test\\my_project\\src\\utils\\index.js"],"names":["Vue","router","store","getUUID","replace","c","Math","random","toString","isAuth","key","JSON","parse","sessionStorage","getItem","indexOf","formatDate","date","fmt","test","RegExp","$1","getFullYear","substr","length","o","getMonth","getDate","getHours","getMinutes","getSeconds","k","str","padLeftZero","treeDataTranslate","data","id","pid","res","temp","i","parentId","_level","push","clearLoginInfo","cookie","delete","commit","options","isAddDynamicMenuRoutes"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport router from '@/router'\r\nimport store from '@/store'\r\n\r\n/**\r\n * 获取uuid\r\n */\r\nexport function getUUID () {\r\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n    return (c === 'x' ? (Math.random() * 16 | 0) : ('r&0x3' | '0x8')).toString(16)\r\n  })\r\n}\r\n\r\n/**\r\n * 是否有权限\r\n * @param {*} key\r\n */\r\nexport function isAuth (key) {\r\n  return JSON.parse(sessionStorage.getItem('permissions') || '[]').indexOf(key) !== -1 || false\r\n}\r\nexport function formatDate(date, fmt) {\r\n  if (/(y+)/.test(fmt)) {\r\n    fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length))\r\n  }\r\n  const o = {\r\n    'M+': date.getMonth() + 1,\r\n    'd+': date.getDate(),\r\n    'h+': date.getHours(),\r\n    'm+': date.getMinutes(),\r\n    's+': date.getSeconds()\r\n  }\r\n  for (const k in o) {\r\n    if (new RegExp(`(${k})`).test(fmt)) {\r\n      const str = o[k] + ''\r\n      fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? str : padLeftZero(str))\r\n    }\r\n  }\r\n  return fmt\r\n}\r\nfunction padLeftZero(str) {\r\n  return ('00' + str).substr(str.length)\r\n}\r\n/**\r\n * 树形数据转换\r\n * @param {*} data\r\n * @param {*} id\r\n * @param {*} pid\r\n */\r\nexport function treeDataTranslate(data, id = 'id', pid = 'parentId') {\r\n  var res = []\r\n  var temp = {}\r\n  for (var i = 0; i < data.length; i++) {\r\n    temp[data[i][id]] = data[i]\r\n  }\r\n  for (var k = 0; k < data.length; k++) {\r\n    if (temp[data[k][pid]] && data[k][id] !== data[k][pid]) {\r\n      if (!temp[data[k][pid]]['children']) {\r\n        temp[data[k][pid]]['children'] = []\r\n      }\r\n      if (!temp[data[k][pid]]['_level']) {\r\n        if (temp[data[k][pid]] && temp[data[k][pid]].parentId == '-1') {\r\n          temp[data[k][pid]]['_level'] = 1\r\n        } else {\r\n          if (temp[temp[data[k][pid]].parentId] && temp[temp[data[k][pid]].parentId].parentId == '-1') {\r\n            temp[data[k][pid]]['_level'] = 2\r\n          } else {\r\n            temp[data[k][pid]]['_level'] = 3\r\n          }\r\n        }\r\n      }\r\n      data[k]['_level'] = temp[data[k][pid]]._level + 1\r\n      temp[data[k][pid]]['children'].push(data[k])\r\n    } else {\r\n      res.push(data[k])\r\n    }\r\n  }\r\n  return res\r\n}\r\n\r\n/**\r\n * 清除登录信息\r\n */\r\nexport function clearLoginInfo () {\r\n  Vue.cookie.delete('token')\r\n  store.commit('resetStore')\r\n  router.options.isAddDynamicMenuRoutes = false\r\n}\r\n"]}]}