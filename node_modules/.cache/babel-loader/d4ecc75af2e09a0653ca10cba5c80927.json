{"remainingRequest":"E:\\workspace\\code\\test\\my_project\\node_modules\\babel-loader\\lib\\index.js!E:\\workspace\\code\\test\\my_project\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\workspace\\code\\test\\my_project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\workspace\\code\\test\\my_project\\src\\views\\auth\\user\\user.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\workspace\\code\\test\\my_project\\src\\views\\auth\\user\\user.vue","mtime":1562927983042},{"path":"E:\\workspace\\code\\test\\my_project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\workspace\\code\\test\\my_project\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\workspace\\code\\test\\my_project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\workspace\\code\\test\\my_project\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.reduce\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport editDialog from \"./edit_user\";\nimport { fetchPage } from '@/api/auth/user'; // import { selectAllRole } from '@/api/auth/role'\n// import { insertUserRole, selectUserRole } from '@/api/auth/roleUser'\n\nimport { parseTime } from '@/utils';\nvar options = [{\n  value: 0,\n  label: '禁用'\n}, {\n  value: 1,\n  label: '正常'\n}];\nvar optionsKeyValue = options.reduce(function (acc, cur) {\n  acc[cur.value] = cur.label;\n  return acc;\n}, {});\nexport default {\n  data: function data() {\n    return {\n      tableKey: 0,\n      list: null,\n      total: null,\n      roleList: null,\n      userId: '',\n      row: '',\n      dialogStatus: '',\n      userNeWRoleId: '',\n      roleListData: [],\n      roleListDataByid: [],\n      listLoading: true,\n      options: '',\n      checkList: [],\n      addOrUpdateVisible: false,\n      userPhotoId: '',\n      userNewId: '',\n      imageUrl: '',\n      checkListData: [],\n      checkListUser: [],\n      checked: true,\n      dialogVisible: false,\n      dialogVisibles: false,\n      dialogVisibleAvator: false,\n      listQuery: {\n        currentPage: 1,\n        pageSize: 10,\n        username: undefined,\n        realName: undefined,\n        sort: ''\n      },\n      dataForm: {\n        imageUrl: ''\n      },\n      dialog: {\n        status: '',\n        visible: false,\n        temp: {\n          account: '',\n          username: '',\n          password: '',\n          realName: '',\n          sex: '',\n          phone: '',\n          email: ''\n        }\n      }\n    };\n  },\n  components: {\n    'edit-user': editDialog\n  },\n  filters: {\n    options: function options(type) {\n      return optionsKeyValue[type];\n    }\n  },\n  created: function created() {\n    this.getList();\n  },\n  methods: {\n    getList: function getList() {\n      var _this = this;\n\n      this.$loading.open();\n      this.listLoading = true;\n      fetchPage(this.listQuery).then(function (response) {\n        _this.$loading.close();\n\n        _this.list = response.data.data.list;\n        _this.total = response.data.data.total;\n        _this.listLoading = false;\n      });\n    },\n    resetTemp: function resetTemp() {\n      this.dialog.temp = {\n        account: '',\n        username: '',\n        password: '',\n        realName: '',\n        sex: '',\n        phone: '',\n        email: ''\n      };\n    },\n    handleFilter: function handleFilter() {\n      this.listQuery.currentPage = 1;\n      this.getList();\n    },\n    handleSizeChange: function handleSizeChange(val) {\n      this.listQuery.pageSize = val;\n      this.getList();\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.listQuery.currentPage = val;\n      this.getList();\n    },\n    handleCreate: function handleCreate(id) {\n      var _this2 = this;\n\n      this.addOrUpdateVisible = true;\n      this.$nextTick(function () {\n        _this2.$refs.dialog.selectList(id);\n      });\n    },\n    handleDelete: function handleDelete(row) {\n      var _this3 = this;\n\n      this.$confirm('确定进行[删除]操作?', '提示', {\n        type: 'warning'\n      }).then(function (response) {\n        _this3.$loading.open();\n\n        var data = {\n          id: row.id // deleteUser(data).then(response => {\n          //   if (response.data.state == \"true\") {\n          //     this.$msg.showSuccess(\"删除成功\");\n          //     this.getList();\n          //   } else {\n          //     this.$msg.showError(1, response.data.msg);\n          //     this.$loading.close();\n          //   }\n          // })\n\n        };\n      });\n    }\n  }\n};",{"version":3,"sources":["user.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"mod-user\">\r\n     <el-form :inline=\"true\" class=\"demo-form-inline\">\r\n        <el-form-item label=\"\">\r\n          <el-input @keyup.enter.native=\"handleFilter\"  style=\"width:300px;\" class=\"filter-item\" placeholder=\"请输入用户名\" v-model=\"listQuery.username\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"\">\r\n          <el-input @keyup.enter.native=\"handleFilter\"  style=\"width:300px;\" class=\"filter-item\" placeholder=\"请输入真实姓名\" v-model=\"listQuery.realName\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"\">\r\n          <el-button class=\"filter-item\" type=\"primary\" @click=\"handleFilter\"  icon=\"el-icon-search\">搜索</el-button>\r\n        </el-form-item>\r\n        <el-form-item label=\"\">\r\n          <el-button class=\"filter-item\" type=\"primary\" @click=\"handleCreate()\"  icon=\"el-icon-plus\">新增</el-button>\r\n        </el-form-item>\r\n     </el-form>\r\n    <el-table :key='tableKey' :data=\"list\" v-loading=\"listLoading\" element-loading-text=\"数据正在加载\" border fit highlight-current-row style=\"width: 100%\">\r\n      <el-table-column align=\"center\" label=\"用户名\" prop=\"username\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{scope.row.username}}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" label=\"真实姓名\" prop=\"username\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{scope.row.username}}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" label=\"电话\" prop=\"phone\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{scope.row.mobile}}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" label=\"邮箱\" prop=\"email\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{scope.row.email}}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" label=\"状态\" prop=\"status\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{scope.row.status|options}}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" label=\"操作\" class-name=\"small-padding fixed-width\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" size=\"mini\" @click=\"handleCreate(scope.row.userId)\">编辑</el-button>\r\n          <el-button v-if=\"scope.row.status!='deleted'\" size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.row)\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <div class=\"pagination-container\">\r\n      <el-pagination background @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"listQuery.currentPage\" :page-sizes=\"[10,20,30, 50]\" :page-size=\"listQuery.pageSize\" layout=\"total, sizes, prev, pager, next, jumper\" :total=total>\r\n      </el-pagination>\r\n    </div>\r\n    <!-- 新增/编辑 对话框 -->\r\n    <edit-user ref=\"dialog\"  @refreshDataList=\"getList\"  v-if=\"addOrUpdateVisible\" :dialogFormVisible.sync=\"dialog.visible\"  @refreshParent=\"handleFilter\"></edit-user>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport editDialog from './edit_user'\r\nimport { fetchPage} from '@/api/auth/user'\r\n// import { selectAllRole } from '@/api/auth/role'\r\n// import { insertUserRole, selectUserRole } from '@/api/auth/roleUser'\r\nimport { parseTime } from '@/utils'\r\nconst options = [\r\n  { value: 0, label: '禁用' },\r\n  { value: 1, label: '正常' }\r\n]\r\nconst optionsKeyValue = options.reduce((acc, cur) => {\r\n  acc[cur.value] = cur.label\r\n  return acc\r\n}, {})\r\nexport default {\r\n  data() {\r\n    return {\r\n      tableKey: 0,\r\n      list: null,\r\n      total: null,\r\n      roleList: null,\r\n      userId: '',\r\n      row: '',\r\n      dialogStatus: '',\r\n      userNeWRoleId: '',\r\n      roleListData: [],\r\n      roleListDataByid: [],\r\n      listLoading: true,\r\n      options: '',\r\n      checkList: [],\r\n      addOrUpdateVisible: false,\r\n      userPhotoId: '',\r\n      userNewId: '',\r\n      imageUrl: '',\r\n      checkListData: [],\r\n      checkListUser: [],\r\n      checked: true,\r\n      dialogVisible: false,\r\n      dialogVisibles: false,\r\n      dialogVisibleAvator: false,\r\n      listQuery: {\r\n        currentPage: 1,\r\n        pageSize: 10,\r\n        username: undefined,\r\n        realName: undefined,\r\n        sort: ''\r\n      },\r\n      dataForm: {\r\n        imageUrl: ''\r\n      },\r\n      dialog: {\r\n        status: '',\r\n        visible: false,\r\n        temp: {\r\n          account: '',\r\n          username: '',\r\n          password: '',\r\n          realName: '',\r\n          sex: '',\r\n          phone: '',\r\n          email: ''\r\n        }\r\n      }\r\n\r\n    }\r\n  },\r\n  components: {\r\n    'edit-user': editDialog\r\n  },\r\n  filters: {\r\n    options(type) {\r\n      return optionsKeyValue[type]\r\n    }\r\n  },\r\n  created() {\r\n    this.getList()\r\n  },\r\n  methods: {\r\n    getList() {\r\n      this.$loading.open();\r\n      this.listLoading = true\r\n      fetchPage(this.listQuery).then(response => {\r\n        this.$loading.close();\r\n        this.list = response.data.data.list\r\n        this.total = response.data.data.total\r\n        this.listLoading = false\r\n      })\r\n    },\r\n    resetTemp() {\r\n      this.dialog.temp = {\r\n        account: '',\r\n        username: '',\r\n        password: '',\r\n        realName: '',\r\n        sex: '',\r\n        phone: '',\r\n        email: ''\r\n      }\r\n    },\r\n    handleFilter() {\r\n      this.listQuery.currentPage = 1\r\n      this.getList()\r\n    },\r\n    handleSizeChange(val) {\r\n      this.listQuery.pageSize = val\r\n      this.getList()\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.listQuery.currentPage = val\r\n      this.getList()\r\n    },\r\n\r\n    handleCreate(id) {\r\n      this.addOrUpdateVisible = true\r\n      this.$nextTick(() => {\r\n        this.$refs.dialog.selectList(id)\r\n      })\r\n    },\r\n    handleDelete(row) {\r\n      this.$confirm('确定进行[删除]操作?', '提示', {\r\n        type: 'warning'\r\n      })\r\n        .then(response => {\r\n          this.$loading.open();\r\n          const data = { id: row.id }\r\n          // deleteUser(data).then(response => {\r\n          //   if (response.data.state == \"true\") {\r\n          //     this.$msg.showSuccess(\"删除成功\");\r\n          //     this.getList();\r\n          //   } else {\r\n          //     this.$msg.showError(1, response.data.msg);\r\n          //     this.$loading.close();\r\n          //   }\r\n          // })\r\n        })\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    .btn-container{\r\n        margin-bottom: 10px;\r\n    }\r\n</style>\r\n"],"sourceRoot":"src/views/auth/user"}]}